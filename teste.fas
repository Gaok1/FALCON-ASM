
li a0, 6
call fib
call end

#args a0 number to calculate fib
#return s0 fib(a0)
fib:
    li t0,1
    beq a0,t0, one
    beq a0,zero, zero_label
        push ra               # push return address
        addi a0,a0,-1         # n-1
        push a0               #push n-1
        call fib              # fib(n-1)
        pop a0                # pop n-1
        push s0               # push fib(n-1)
        addi a0,a0,-1         # a0 = n-2
        call fib              # fib(n-2)
        pop s1                # s1 = fib(n-1)
        add s0,s0,s1          # s0 = fib(n-1) + fib(n-2)
        pop ra                # pop return address
        ret
    one:
        li s0,1
        ret
    zero_label:
        li s0,0
        ret
end:
    ecall